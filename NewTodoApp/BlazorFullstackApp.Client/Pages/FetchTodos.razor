@page "/todos"
@inject HttpClient Http
@using BlazorFullstackApp.Shared

<h1>Todo List</h1>

@if (todos == null) {
  <p>No todos</p>
} else {
  <ul>
    @foreach (var todo in todos) {
      <li>@todo.Title (@(todo.IsDone ? "Done" : "Pending"))</li>
    }
  </ul>
}

@code {
  private List<TodoItem>? todos;
    protected override async Task OnInitializedAsync() 
    {
      todos = await Http.GetFromJsonAsync<List<TodoItem>>("api/todo");
    }
}